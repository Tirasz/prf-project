<div class="main_component">
  <div class="div-flex" *ngIf="isLoading | async">
          <mat-spinner></mat-spinner>
  </div>
  
  <div class="div-flex" *ngIf="!(isLoading | async)">
      <h1>Edit your torrent!</h1>
      <form [formGroup]="editTorrentForm" (ngSubmit)="createTorrent()">
          <mat-form-field>
              <mat-label for="title">Torrent title: </mat-label>
              <input matInput type="text" formControlName="title" required type="text"/>
              <mat-error *ngIf="editTorrentForm.value.title">Name must be betweeen 3 and 40 characters long!</mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill">
              <mat-label>Select a category</mat-label>
              <mat-select formControlName="category">
                  <mat-option *ngFor="let category of categories" [value]="category">
                    {{category}}
                  </mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field>
              <mat-label for="description">Description</mat-label>
              <textarea matInput type="text" formControlName="description" required></textarea>
              <mat-error *ngIf="editTorrentForm.value.description">Description is required!</mat-error>
            </mat-form-field>
      </form>
      <div>
        <span class="buttons">
            <button mat-raised-button color="primary" (click)="createTorrent()" [disabled]="!editTorrentForm.valid">Create</button>
        </span>
        <span class="buttons">
          <button mat-raised-button color="primary" (click)="goBack()">Back</button>
        </span>
    </div>
  </div>
</div>