<div class="main_component">
  <div class="div-flex" *ngIf="isLoading | async">
      <mat-spinner></mat-spinner>
  </div>
  
  <div class="div-flex" *ngIf="!(isLoading | async)">
      <h1>Edit your profile!</h1>
      <form [formGroup]="editUserForm" (ngSubmit)="onSubmit()">
          <mat-form-field>
              <mat-label for="username">Username: </mat-label>
              <input matInput type="text" formControlName="username" />
              <mat-error *ngIf="editUserForm.value.username">Username must be between 3 and 10 characters!</mat-error>
          </mat-form-field>
          <mat-form-field>
              <mat-label for="email">Email: </mat-label>
              <input matInput type="text" formControlName="email" />
              <mat-error *ngIf="editUserForm.value.email">E-mail is incorrectly formed!</mat-error>
          </mat-form-field>
          <mat-form-field>
              <mat-label for="password">New password: </mat-label>
              <input matInput type="password" formControlName="password" />
              <mat-error *ngIf="editUserForm.value.password">Password must be at least 6 characters long!</mat-error>
          </mat-form-field>
          <mat-form-field>
              <mat-label for="rePassword">Confirm new password: </mat-label>
              <input matInput type="password" formControlName="rePassword" />
              <mat-error *ngIf="editUserForm.value.rePassword">Passwords must match!</mat-error>
          </mat-form-field>
      </form>
      <div>
        <span class="buttons">
            <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="!editUserForm.valid">Update</button>
        </span>
        <span class="buttons">
          <button mat-raised-button color="primary" (click)="goBack()">Back</button>
        </span>
        <span class="buttons">
          <button mat-raised-button color="warn" (click)="deleteUser()">Delete</button>
        </span>
    </div>
  </div>
</div>